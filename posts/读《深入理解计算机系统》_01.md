# 读《深入理解计算机系统》（一）

- [读《深入理解计算机系统》（一）](https://github.com/ShannonChenCHN/what-is-computer-science/blob/master/posts/%E8%AF%BB%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E3%80%8B_01.md)
- [读《深入理解计算机系统》（二）](https://github.com/ShannonChenCHN/what-is-computer-science/blob/master/posts/%E8%AF%BB%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E3%80%8B_02.md)
- [读《深入理解计算机系统》（三）](https://github.com/ShannonChenCHN/what-is-computer-science/blob/master/posts/%E8%AF%BB%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E3%80%8B_03.md)
- [读《深入理解计算机系统》（四）](https://github.com/ShannonChenCHN/what-is-computer-science/blob/master/posts/%E8%AF%BB%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E3%80%8B_04.md)

## 简介

这本书从程序员的视角详细讲解了整个计算机系统（不是操作系统）的本质概念，将汇编语言、操作系统、组成原理、体系结构、编译链接原理和计算机网络等多门课程的知识串联了起来，并展示了这些概念是如何实际地影响应用程序的正确性、性能和实用性。

与其他主要针对系统构造人员的系统类书籍不同，这本书是写给程序员的，是从程序员的角度来描述的。重点讨论系统的不同结构对于上层应用软件编写、执行和数据存储的影响，以培养程序员在更广阔空间应用计算机系统知识的能力。

在全面讲解计算机系统知识的同时，这本书还具有相当的深度，本书从程序出发逐步深入到系统领域的重要问题，而非点到为止。

本书为软件和硬件之间搭起了一个桥梁，它给出了一种帮助读者分别从硬件和软件的角度去理解一个程序及其行为的途径，这也填补了国内计算机系统教学中的一个空白。本书的最大优点是帮助读者理解概念，让读者很清楚地在脑海中构造一个层次型的计算机系统，从最低层数据在内存中的表示，到流水线指令的构成，到虚拟存储器，到编译系统，到动态加载库，到最后的用户应用。

另外，这本书非常强调实践，全书包括 9 个配套实验，在这些实验中，学习者需要攻破计算机系统、设计 CPU、实现命令行解释器、根据缓存优化程序等，在新鲜有趣的实验中理解系统原理，培养动手能力。

通过学习本书中的内容，读者可以建立起完整的计算机系统的知识体系和整体知识框架，养成良好的编程习惯并获得编写高性能、可移植和健壮的程序的能力。学完这本书，可以为后续对操作系统、编译、计算机体系结构等专业知识的学习打下扎实的基础。

## 阅读指南

CMU 的计算机导论课程（Introduction to Computer Systems）用的教材就是这本书，网上可以找到这门课程的视频资源。

另外，这本书的官网上提供了很多练习作业和实验，除了阅读本书的内容之外，还应该动手实践，完成这些实验。正如 David O'Hallaron 老师在第一节课上所说的，**实验是这门课的核心**。

建议结合视频课程和实验来学习这本书的内容。

### 准备工作

- 对 C 和 C++ 有一定的了解
- 一台装有类 Unix 系统的电脑

### 配套资源
- 配套的视频课程：[CMU 计算机必修课 15-213: Introduction to Computer Systems（2017年秋季）](https://www.bilibili.com/video/av20304787/?spm_id_from=333.788.b_7265636f5f6c697374.8)，本课程由这本书的作者 Randy Bryant 和 Phil Gibbons 共同授课，共28讲，另外还有一些更完整的、但是没有字幕的[资源](https://www.bilibili.com/video/av12977597/)
- CMU 课程链接（包括课程表、课件、源代码、视频等）：[http://www.cs.cmu.edu/afs/cs/academic/class/15213-f17/www/schedule.html](http://www.cs.cmu.edu/afs/cs/academic/class/15213-f17/www/schedule.html)
- 实验作业（Lab Assignments）：[http://csapp.cs.cmu.edu/3e/labs.html](http://csapp.cs.cmu.edu/3e/labs.html)

### 其他网友分享的一些经验
- [如何阅读《深入理解计算机系统》这本书？ - 知乎](https://www.zhihu.com/question/20402534)
- [《深入理解计算机系统》这本书需要什么水平能看懂？ - 知乎](https://www.zhihu.com/question/20354069)
- [从《深入理解计算机系统》谈一谈编程入门 - 知乎](https://zhuanlan.zhihu.com/p/38584767)
- [深入理解计算机系统的书评 - 豆瓣](https://book.douban.com/subject/1230413/reviews)
- [本书的使用指南（深入理解计算机系统（原书第2版））书评 - 豆瓣](https://book.douban.com/review/5627139/)
- [最近在看深入理解计算机系统(CSAPP)，感觉看得好慢啊。。 - V2EX](https://www.v2ex.com/t/417357)
- [大家来说一说自己读《深入理解计算机系统》和《计算机程序的构造和解释》两本书的经历和感受吧！ - V2EX](https://www.v2ex.com/t/197853)

### 延伸阅读

- 《汇编语言》（王爽 著）
- 《现代操作系统》
- 《计算机网络：自顶向下方法》
- 《The Linux Command Line》
- 《程序员的自我修养 : 链接、装载与库》
- 《深入解析 Mac OS X & iOS 操作系统》
- 《Advanced Apple Debugging & Reverse Engineering》
- 《iOS应用逆向工程：分析与实战》
- 开源库
  - [MMKV](https://github.com/Tencent/MMKV)：mmap 内存映射、I/O、LRU 缓存算法
  - [CocoaAsyncSocket](https://github.com/robbiehanson/CocoaAsyncSocket)：socket 编程、TCP/IP、UDP/IP
- WWDC Videos
  - 编译、链接
    - [Behind the Scenes of the Xcode Build Process - WWDC 2018 - Session 415](https://developer.apple.com/videos/play/wwdc2018/415/)：编译、构建
    - [Building Faster in Xcode - WWDC 2018 - Session 408](https://developer.apple.com/videos/play/wwdc2018/408)：编译、构建
    - [What's New in LLVM - WWDC 2017 - Session 411](https://developer.apple.com/videos/play/wwdc2017/411)：编译
    - [Optimizing App Startup Time - WWDC 2016 - Session 406](https://developer.apple.com/videos/play/wwdc2016/406)：动态加载器、动态链接
    - [App Startup Time: Past, Present, and Future - WWDC 2017 - Session 413](https://developer.apple.com/videos/play/wwdc2017/413)：动态加载器、动态链接
  - 并发编程
    - [Modernizing Grand Central Dispatch Usage - WWDC 2017 - Session 706](https://developer.apple.com/videos/play/wwdc2017/706/)：并发编程
    - [Concurrent Programming With GCD in Swift 3 - WWDC 2016 Session 720](https://developer.apple.com/videos/play/wwdc2016/720/)：并发编程
    - [Building Responsive and Efficient Apps with GCD - WWDC 2015 Session 718](https://developer.apple.com/videos/play/wwdc2015/718/)：并发编程
    - [Thread Sanitizer and Static Analysis - WWDC 2016 - Session 412](https://developer.apple.com/videos/play/wwdc2016/412/)：线程安全检测、静态分析
    - [System Trace in Depth - WWDC 2016 - Session 411](https://developer.apple.com/videos/play/wwdc2016/411)：虚拟内存、线程、锁
  - 内存管理
    - [iOS App Performance: Memory - WWDC 2012 - Session 242](https://developer.apple.com/videos/play/wwdc2012/242/)【强烈推荐】：虚拟内存和物理内存
    - [Fixing Memory Issues - WWDC 2013 - Session 410](https://developer.apple.com/videos/play/wwdc2013/410/)
    - [System Trace in Depth - WWDC 2016 - Session 411](https://developer.apple.com/videos/play/wwdc2016/411)：虚拟内存、线程、锁
    - [iOS Memory Deep Dive - WWDC 2018 - Session 416](https://developer.apple.com/videos/play/wwdc2018/416/#)：内存管理
  - I/O 相关
    - [Optimizing I/O for Performance and Battery Life - WWDC 2016 - Session 719](https://developer.apple.com/videos/play/wwdc2016/719)：I/O 对性能的影响
  - 网络
    - [Your App and Next Generation Networks - WWDC 2015 - Session 719](https://developer.apple.com/videos/play/wwdc2015/719/)
    - [Networking for the Modern Internet - WWDC 2016 - Session 714](https://developer.apple.com/videos/play/wwdc2016/714/)
    - [Advances in Networking, Part 1 - WWDC 2017 - Session 707](https://developer.apple.com/videos/play/wwdc2017/707)
    - [Advances in Networking, Part 2 - WWDC 2017 - Session 709](https://developer.apple.com/videos/play/wwdc2017/709)
    - [Your Apps and Evolving Network Security Standards - WWDC 2017 - Session 701](https://developer.apple.com/videos/play/wwdc2017/701/)
    - [Optimizing Your App for Today’s Internet - WWDC 2018 - Session 714](https://developer.apple.com/videos/play/wwdc2018/714/)

  

## 目录
- 第 1 章 计算机系统漫游 
  - 1.1 信息就是位+上下文
  - 1.2 程序被其他程序翻译成不同的格式
  - 1.3 了解编译系统如何工作是大有益处的
  - 1.4 处理器读取并且解释储存在内存中的指令
  - 1.5 高速缓存至关重要
  - 1.6 储存设备形成层次结构
  - 1.7 操作系统管理硬件
  - 1.8 系统之间利用网络通信
  - 1.9 重要主题
- 第一部分 程序结构和执行
  - 第2章　信息的表示和处理 ★★★★
    - 2.1 信息存储
    - 2.2 整数表示
    - 2.3 整数运算
    - 2.4 浮点数
  - 第3章　程序的机器级表示 ★★★★★
    - 3.1 历史观点
    - 3.2 程序编码
    - 3.3 数据格式
    - 3.4 访问信息
    - 3.5 算术和逻辑操作
    - 3.6 控制
    - 3.7 过程
    - 3.8 数组分配和访问
    - 3.9 异数的数据结构
    - 3.10 在机器级程序中将控制与数据结合起来
    - 3.11 浮点代码
  - 第4章　处理器体系结构  
    - 4.1 Y86-64 指令集体系架构
    - 4.2 逻辑设计和硬件控制语言 HCL
    - 4.3 Y86-64 的顺序实现
    - 4.4 流水线的通用原理
    - 4.5 Y86-64 的流水线实现
  - 第5章　优化程序性能 
    - 5.1 优化编译器的能力和局限性
    - 5.2 表示程序性能
    - 5.3 程序示例
    - 5.4 消除循环的低效率
    - 5.5 减少过程调用
    - 5.6 消除不必要的内存引用
    - 5.7 理解现代处理器
    - 5.8 循环展开
    - 5.9 提高并行性
    - 5.10 优化合并代码的结果小结
    - 5.11 一些限制因素
    - 5.12 理解内存性能
    - 5.13 应用：性能提高技术
    - 5.14 确认和消除性能瓶颈
  - 第6章　存储器层次结构 
    - 6.1 存储技术
    - 6.2 局部性
    - 6.3 存储器层次结构
    - 6.4 高速缓存存储器
    - 6.5 编写高速缓存友好的代码
    - 6.6 综合：高速缓存对程序性能的影响
- 第二部分 在系统上运行程序
  - 第7章　链接 ★★★★★
    - 7.1 编译器驱动程序
    - 7.2 静态链接
    - 7.3 目标文件
    - 7.4 可重定位目标文件
    - 7.5 符号和符号表
    - 7.6 符号解析
    - 7.7 重定位
    - 7.8 可执行目标文件
    - 7.9 加载可执行目标文件
    - 7.10 动态链接共享库
    - 7.11 从应用程序中加载和链接共享库
    - 7.12 位置无关代码
    - 7.13 库打桩机制
    - 7.14 处理目标文件的工具
  - 第8章　异常控制流 ★★★★
    - 8.1 异常
    - 8.2 进程 ★★★★★
    - 8.3 系统调用错误处理
    - 8.4 进程控制 ★★★★★
    - 8.5 信号
    - 8.6 非本地跳转
    - 8.7 操作进程的工具
  - 第9章　虚拟内存 ★★★★★
    - 9.1 物理寻址和虚拟寻址
    - 9.2 地址空间
    - 9.3 虚拟内存作为缓存的工具
    - 9.4 虚拟内存作为内存管理的工具
    - 9.5 虚拟内存作为内存保护的工具
    - 9.6 地址翻译
    - 9.7 案例研究：Intel Core i7/Linux 内存系统
    - 9.8 内存映射
    - 9.9 动态内存分配
    - 9.10 垃圾收集
    - 9.11 C 程序中常见的与内存有关的错误
- 第三部分 程序间的交互和通信
  - 第10章　系统级I/O ★★★★
    - 10.1 Unix I/O
    - 10.2 文件
    - 10.3 打开和关闭文件
    - 10.4 读和写文件
    - 10.5 用 RIO 包健壮地读写
    - 10.6 读取文件元数据
    - 10.7 读取目录和内容
    - 10.8 共享文件
    - 10.9 I/O 重定向
    - 10.10 标准 I/O 
    - 10.11 综合：我该使用哪些 I/O 函数
  - 第11章　网络编程 ★★★★
    - 11.1 客户端-服务器编程模型
    - 11.2 网络
    - 11.3 全球 IP 因特网
    - 11.4 套接字接口
    - 11.5 Web 服务器
    - 11.6 综合：TINY Web 服务器
  - 第12章　并发编程 ★★★★★
    - 12.1 基于进程的并发编程
    - 12.2 基于 I/O 多路复用的并发编程
    - 12.3 基于线程的并发编程
    - 12.4 多线程程序中的共享变量
    - 12.5 用信号量同步线程
    - 12.6 使用线程提高并行性
    - 12.7 其他并发问题

## 全书结构



## 第 1 章 计算机系统漫游

### 问题



### 1.1 信息就是位+上下文


### 1.2 程序被其他程序翻译成不同的格式

### 1.3 了解编译系统如何工作是大有益处的

### 1.4 处理器读取并且解释储存在内存中的指令

### 1.5 高速缓存至关重要

### 1.6 储存设备形成层次结构

### 1.7 操作系统管理硬件

### 1.8 系统之间利用网络通信

### 1.9 重要主题

